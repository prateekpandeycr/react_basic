(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{36:function(e,t,n){e.exports=n(75)},72:function(e,t,n){},74:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=74},75:function(e,t,n){"use strict";n.r(t);var r=n(2),a=n.n(r),c=n(6),i=n(3),o=n(4),s=n(8),u=n(7),l=n(9),h=n(11),f=n.n(h),p=n(0),v=n.n(p),d=n(12),m=n.n(d),b=function(e){function t(){var e,n;Object(i.a)(this,t);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(a)))).state={files:null,hovering:!1},n.onDragEnter=function(e){e.preventDefault(),n.setState({hovering:!0})},n.onDragLeave=function(){n.setState({hovering:!1})},n.onDrop=function(e){e.preventDefault(),n.props.onReceivedFiles(e.dataTransfer.items)},n}return Object(l.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.state.hovering?"aliceblue":"grey";return v.a.createElement("div",{style:{height:"100vh",width:"100%",backgroundColor:e},onDragOver:function(e){return e.preventDefault()},onDragEnter:this.onDragEnter,onDragLeave:this.onDragLeave,onDrop:this.onDrop},"Drop files on me")}}]),t}(v.a.Component),y=n(35),O=[{value:{branch:"213-forms",path:"streams/client/src"},label:"Forms with Redux Form"}],g=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return v.a.createElement(y.a,{options:O,onChange:this.props.onChange})}}]),t}(v.a.Component),w=function(){function e(){var t=this;Object(i.a)(this,e),this.files=[],this.collectFiles=function(e){var n=f.a.flatMap(e,function(e){return new Promise(function(n,r){if(e.isFile)return t.files.push(e),n();e.createReader().readEntries(function(){var e=Object(c.a)(a.a.mark(function e(r){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.collectFiles(r);case 2:n();case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}())})});return Promise.all(n)}}return Object(o.a)(e,[{key:"read",value:function(){var e=Object(c.a)(a.a.mark(function e(t){var n=this;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e,r){t.webkitGetAsEntry().createReader().readEntries(function(){var t=Object(c.a)(a.a.mark(function t(r){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.collectFiles(r);case 2:e();case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),r)}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"readContents",value:function(){var e=this.files.map(function(e){return t=e,new Promise(function(e,n){var r=new FileReader;r.onloadend=function(){t.contents=r.result,e()},t.file(function(e){r.readAsText(e)})});var t});return Promise.all(e)}}]),e}(),j=n(16),F=n.n(j),k=function(){function e(t,n){Object(i.a)(this,e),this.files=[],this.rootPath=t,this.branch=n}return Object(o.a)(e,[{key:"fetchFiles",value:function(){var e=Object(c.a)(a.a.mark(function e(){var t,n,r=arguments;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:this.rootPath,e.next=3,F.a.get("https://api.github.com/repos/stephengrider/reduxcode/contents/".concat(t,"?ref=").concat(this.branch,"&client_id=").concat("ad86d59410536a7ebf24","&client_secret=").concat("5a582a7121af9826d8a5f10ffa9a028ff308efcb"),{auth:{username:"stephengrider"}});case 3:return n=e.sent,e.next=6,this._fetchFiles(n.data,t);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"_fetchFiles",value:function(){var e=Object(c.a)(a.a.mark(function e(t,n){var r,i=this;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=f.a.flatMap(t,function(e){return new Promise(function(){var t=Object(c.a)(a.a.mark(function t(n,r){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("file"!==e.type){t.next=5;break}return e.path=e.path.replace(i.rootPath,""),i.files.push(e),n(),t.abrupt("return");case 5:return t.next=7,i.fetchFiles(e.path);case 7:n();case 8:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}())}),e.abrupt("return",Promise.all(r));case 2:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchFileContents",value:function(){var e=this.files.map(function(){var e=Object(c.a)(a.a.mark(function e(t){var n;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.get(t.download_url);case 2:n=e.sent,t.contents=n.data;case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}());return Promise.all(e)}}]),e}(),E=(n(72),n(32)),x=n.n(E),C=n(33),D=n.n(C),P=n(17);console.log(P);var S=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(o.a)(t,[{key:"formatContents",value:function(e){try{return x.a.format(e,{parser:"babylon",plugins:[D.a]})}catch(t){return t.message}}},{key:"renderDiffs",value:function(){if(!this.props.github)return null;var e=this.formatContents(this.props.local.contents),t=this.formatContents(this.props.github.contents);return P.diffLines(t,e).map(function(e,t){var n=e.added?"added":e.removed?"removed":"same";return v.a.createElement("span",{key:t,className:n},e.value)})}},{key:"renderLocalFile",value:function(e){return this.formatContents(e.contents)}},{key:"renderGithubFile",value:function(e){return e?this.formatContents(e.contents):this.renderNoMatch()}},{key:"renderNoMatch",value:function(){return v.a.createElement("div",null,"No matching file found.")}},{key:"render",value:function(){return v.a.createElement("div",{className:"compare-file"},v.a.createElement("h3",null,this.props.local.fullPath),v.a.createElement("div",{className:"code"},v.a.createElement("pre",null,this.renderLocalFile(this.props.local)),v.a.createElement("pre",null,this.renderGithubFile(this.props.github)),v.a.createElement("pre",null,this.renderDiffs())))}}]),t}(v.a.Component),N=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return this.props.localFetcher.files.map(function(t){var n=e.props.githubFetcher.files.find(function(e){return t.fullPath.replace("/src","")===e.path});return v.a.createElement(S,{key:t.fullPath,local:t,github:n})})}}]),t}(v.a.Component),R=function(e){function t(){var e,n;Object(i.a)(this,t);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={localFetcher:null,branch:null},n.onReceivedFiles=function(){var e=Object(c.a)(a.a.mark(function e(t){var r;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=new w,e.next=3,r.read(f.a.first(t));case 3:return e.next=5,r.readContents();case 5:n.setState({localFetcher:r});case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n.onBranchChange=function(e){var t=e.value,r=t.path,a=t.branch;n.setState({branch:a,path:r})},n.onSubmit=function(){var e=Object(c.a)(a.a.mark(function e(t){var r;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r=new k(n.state.path,n.state.branch),e.next=4,r.fetchFiles();case 4:return e.next=6,r.fetchFileContents();case 6:n.setState({githubFetcher:r});case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n}return Object(l.a)(t,e),Object(o.a)(t,[{key:"renderForm",value:function(){return v.a.createElement("form",{onSubmit:this.onSubmit},v.a.createElement("div",null,"Select the section you want to compare against"),v.a.createElement(g,{onChange:this.onBranchChange}),v.a.createElement("button",null,"Compare!"))}},{key:"render",value:function(){return this.state.localFetcher?this.state.githubFetcher?v.a.createElement(N,{githubFetcher:this.state.githubFetcher,localFetcher:this.state.localFetcher}):this.renderForm():v.a.createElement(b,{onReceivedFiles:this.onReceivedFiles})}}]),t}(v.a.Component);m.a.render(v.a.createElement(R,null),document.querySelector("#root"))}},[[36,2,1]]]);
//# sourceMappingURL=main.30c55a86.chunk.js.map